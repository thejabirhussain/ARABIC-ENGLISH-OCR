{
  "version": "2.0.0",
  "generated_at": "2026-01-02T15:48:47.052446Z",
  "project": {
    "path": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend",
    "name": "backend"
  },
  "summary": {
    "total_endpoints": 4,
    "total_api_calls": 0,
    "total_connections": 0,
    "total_imports": 87,
    "total_function_calls": 690,
    "total_function_definitions": 46,
    "certain_connections": 0,
    "high_confidence_connections": 0,
    "medium_confidence_connections": 0,
    "low_confidence_connections": 0,
    "high_impact_nodes": 5,
    "ui_issues": {
      "total": 0,
      "high": 0,
      "medium": 0,
      "low": 0
    }
  },
  "endpoints": [
    {
      "method": "GET",
      "path": "/",
      "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
      "line": 28,
      "language": "python",
      "type": "endpoint",
      "framework": "fastapi",
      "confidence": "confident",
      "detection_method": "ast"
    },
    {
      "method": "POST",
      "path": "/chat",
      "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
      "line": 7,
      "language": "python",
      "type": "endpoint",
      "framework": "fastapi",
      "confidence": "confident",
      "detection_method": "ast"
    },
    {
      "method": "POST",
      "path": "/translate-pdf",
      "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
      "line": 12,
      "language": "python",
      "type": "endpoint",
      "framework": "fastapi",
      "confidence": "confident",
      "detection_method": "ast"
    },
    {
      "method": "POST",
      "path": "/process",
      "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
      "line": 10,
      "language": "python",
      "type": "endpoint",
      "framework": "fastapi",
      "confidence": "confident",
      "detection_method": "ast"
    }
  ],
  "api_calls": [],
  "connections": [],
  "dependencies": {
    "imports": [
      {
        "type": "import",
        "module": "sys",
        "imported_names": [
          "sys"
        ],
        "line": 1,
        "code": "import sys",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "os",
        "imported_names": [
          "os"
        ],
        "line": 2,
        "code": "import os",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "translate_to_english",
        "imported_names": [],
        "line": 7,
        "code": "from services.translate_service import translate_to_english",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "FastAPI",
        "imported_names": [],
        "line": 1,
        "code": "from fastapi import FastAPI",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "CORSMiddleware",
        "imported_names": [],
        "line": 2,
        "code": "from fastapi.middleware.cors import CORSMiddleware",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "controllers.ocr_controller",
        "imported_names": [
          "router"
        ],
        "line": 3,
        "code": "from controllers.ocr_controller import router as ocr_router",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "controllers.pdf_controller",
        "imported_names": [
          "router"
        ],
        "line": 4,
        "code": "from controllers.pdf_controller import router as pdf_router",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "controllers.chat_controller",
        "imported_names": [
          "router"
        ],
        "line": 5,
        "code": "from controllers.chat_controller import router as chat_router",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "global_exception_handler",
        "imported_names": [],
        "line": 6,
        "code": "from handlers.error_handler import global_exception_handler",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "uvicorn",
        "imported_names": [
          "uvicorn"
        ],
        "line": 40,
        "code": "import uvicorn",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "UploadFile",
        "imported_names": [],
        "line": 1,
        "code": "from fastapi import HTTPException, UploadFile",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/validators.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "tempfile",
        "imported_names": [
          "tempfile"
        ],
        "line": 1,
        "code": "import tempfile",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "os",
        "imported_names": [
          "os"
        ],
        "line": 2,
        "code": "import os",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "contextlib",
        "imported_names": [
          "contextlib"
        ],
        "line": 3,
        "code": "import contextlib",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "BaseModel",
        "imported_names": [],
        "line": 1,
        "code": "from pydantic import BaseModel",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/models/chat.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "HTTPException",
        "imported_names": [],
        "line": 1,
        "code": "from fastapi import APIRouter, HTTPException",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "ChatRequest",
        "imported_names": [],
        "line": 2,
        "code": "from models.chat import ChatRequest",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "rag_service",
        "imported_names": [],
        "line": 3,
        "code": "from services.rag_service import rag_service",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "BackgroundTasks",
        "imported_names": [],
        "line": 1,
        "code": "from fastapi import APIRouter, File, UploadFile, HTTPException, BackgroundTasks",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "FileResponse",
        "imported_names": [],
        "line": 2,
        "code": "from fastapi.responses import FileResponse",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "uuid",
        "imported_names": [
          "uuid"
        ],
        "line": 3,
        "code": "import uuid",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "os",
        "imported_names": [
          "os"
        ],
        "line": 4,
        "code": "import os",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "translate_pdf_with_layout",
        "imported_names": [],
        "line": 5,
        "code": "from services.pdf_translation_service import translate_pdf_with_layout",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "rag_service",
        "imported_names": [],
        "line": 6,
        "code": "from services.rag_service import rag_service",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "validate_pdf",
        "imported_names": [],
        "line": 7,
        "code": "from utils.validators import validate_pdf",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "cleanup_file",
        "imported_names": [],
        "line": 8,
        "code": "from utils.file_utils import save_content_to_temp, cleanup_file",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "HTTPException",
        "imported_names": [],
        "line": 1,
        "code": "from fastapi import APIRouter, File, UploadFile, HTTPException",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "JSONResponse",
        "imported_names": [],
        "line": 2,
        "code": "from fastapi.responses import JSONResponse",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "extract_arabic_text",
        "imported_names": [],
        "line": 3,
        "code": "from services.ocr_service import extract_arabic_text",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "translate_to_english",
        "imported_names": [],
        "line": 4,
        "code": "from services.translate_service import translate_to_english",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "validate_pdf",
        "imported_names": [],
        "line": 5,
        "code": "from utils.validators import validate_pdf",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "temporary_file",
        "imported_names": [],
        "line": 6,
        "code": "from utils.file_utils import temporary_file",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "HTTPException",
        "imported_names": [],
        "line": 1,
        "code": "from fastapi import Request, HTTPException",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "JSONResponse",
        "imported_names": [],
        "line": 2,
        "code": "from fastapi.responses import JSONResponse",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "tempfile",
        "imported_names": [
          "tempfile"
        ],
        "line": 5,
        "code": "import tempfile",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "os",
        "imported_names": [
          "os"
        ],
        "line": 6,
        "code": "import os",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "re",
        "imported_names": [
          "re"
        ],
        "line": 7,
        "code": "import re",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "shutil",
        "imported_names": [
          "shutil"
        ],
        "line": 8,
        "code": "import shutil",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "Optional",
        "imported_names": [],
        "line": 9,
        "code": "from typing import Tuple, List, Optional",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "normalize_arabic_numerals",
        "imported_names": [],
        "line": 10,
        "code": "from services.layout_extraction_service import (\n    extract_text_blocks_with_layout,\n    TextBlock,\n    normalize_arabic_numerals\n)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "Table",
        "imported_names": [],
        "line": 15,
        "code": "from services.table_extraction_service import (\n    extract_tables_from_pdf,\n    extract_tables_from_ocr,\n    Table\n)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "translate_to_english",
        "imported_names": [],
        "line": 20,
        "code": "from services.translate_service import translate_to_english",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "fitz",
        "imported_names": [
          "fitz"
        ],
        "line": 24,
        "code": "import fitz",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "ocrmypdf",
        "imported_names": [
          "ocrmypdf"
        ],
        "line": 32,
        "code": "import ocrmypdf",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "services.layout_extraction_service",
        "imported_names": [
          "normalize_arabic_numerals"
        ],
        "line": 510,
        "code": "from services.layout_extraction_service import normalize_arabic_numerals as norm",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "os",
        "imported_names": [
          "os"
        ],
        "line": 1,
        "code": "import os",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "uuid",
        "imported_names": [
          "uuid"
        ],
        "line": 2,
        "code": "import uuid",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "Optional",
        "imported_names": [],
        "line": 3,
        "code": "from typing import List, Dict, Any, Optional",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "QdrantClient",
        "imported_names": [],
        "line": 4,
        "code": "from qdrant_client import QdrantClient",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "models",
        "imported_names": [],
        "line": 5,
        "code": "from qdrant_client.http import models",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "ollama",
        "imported_names": [
          "ollama"
        ],
        "line": 6,
        "code": "import ollama",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "SentenceTransformer",
        "imported_names": [],
        "line": 7,
        "code": "from sentence_transformers import SentenceTransformer",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "pdfplumber",
        "imported_names": [
          "pdfplumber"
        ],
        "line": 5,
        "code": "import pdfplumber",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "pytesseract",
        "imported_names": [
          "pytesseract"
        ],
        "line": 6,
        "code": "import pytesseract",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "fitz",
        "imported_names": [
          "fitz"
        ],
        "line": 8,
        "code": "import fitz",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "tempfile",
        "imported_names": [
          "tempfile"
        ],
        "line": 12,
        "code": "import tempfile",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "os",
        "imported_names": [
          "os"
        ],
        "line": 13,
        "code": "import os",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "convert_from_path",
        "imported_names": [],
        "line": 14,
        "code": "from pdf2image import convert_from_path",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "Tuple",
        "imported_names": [],
        "line": 15,
        "code": "from typing import List, Dict, Tuple",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "re",
        "imported_names": [
          "re"
        ],
        "line": 16,
        "code": "import re",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "re",
        "imported_names": [
          "re"
        ],
        "line": 99,
        "code": "import re",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "traceback",
        "imported_names": [
          "traceback"
        ],
        "line": 163,
        "code": "import traceback",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "re",
        "imported_names": [
          "re"
        ],
        "line": 216,
        "code": "import re",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "traceback",
        "imported_names": [
          "traceback"
        ],
        "line": 431,
        "code": "import traceback",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "re",
        "imported_names": [
          "re"
        ],
        "line": 448,
        "code": "import re",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "MarianTokenizer",
        "imported_names": [],
        "line": 1,
        "code": "from transformers import MarianMTModel, MarianTokenizer",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "torch",
        "imported_names": [
          "torch"
        ],
        "line": 2,
        "code": "import torch",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "re",
        "imported_names": [
          "re"
        ],
        "line": 50,
        "code": "import re",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "re",
        "imported_names": [
          "re"
        ],
        "line": 149,
        "code": "import re",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "re",
        "imported_names": [
          "re"
        ],
        "line": 192,
        "code": "import re",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "ocrmypdf",
        "imported_names": [
          "ocrmypdf"
        ],
        "line": 1,
        "code": "import ocrmypdf",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "ocrmypdf.exceptions",
        "imported_names": [
          "ocrmypdf.exceptions"
        ],
        "line": 2,
        "code": "import ocrmypdf.exceptions",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "pytesseract",
        "imported_names": [
          "pytesseract"
        ],
        "line": 3,
        "code": "import pytesseract",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "tempfile",
        "imported_names": [
          "tempfile"
        ],
        "line": 4,
        "code": "import tempfile",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "os",
        "imported_names": [
          "os"
        ],
        "line": 5,
        "code": "import os",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "re",
        "imported_names": [
          "re"
        ],
        "line": 6,
        "code": "import re",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "convert_from_path",
        "imported_names": [],
        "line": 7,
        "code": "from pdf2image import convert_from_path",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "PdfReader",
        "imported_names": [],
        "line": 8,
        "code": "from PyPDF2 import PdfReader",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "cv2",
        "imported_names": [
          "cv2"
        ],
        "line": 9,
        "code": "import cv2",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "pdfplumber",
        "imported_names": [
          "pdfplumber"
        ],
        "line": 5,
        "code": "import pdfplumber",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "tempfile",
        "imported_names": [
          "tempfile"
        ],
        "line": 6,
        "code": "import tempfile",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "os",
        "imported_names": [
          "os"
        ],
        "line": 7,
        "code": "import os",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "Tuple",
        "imported_names": [],
        "line": 9,
        "code": "from typing import List, Dict, Tuple",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import_from",
        "module": "TextBlock",
        "imported_names": [],
        "line": 10,
        "code": "from services.layout_extraction_service import TextBlock",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "camelot",
        "imported_names": [
          "camelot"
        ],
        "line": 14,
        "code": "import camelot",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "traceback",
        "imported_names": [
          "traceback"
        ],
        "line": 226,
        "code": "import traceback",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "import",
        "module": "traceback",
        "imported_names": [
          "traceback"
        ],
        "line": 232,
        "code": "import traceback",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      }
    ],
    "function_calls": [
      {
        "type": "function_call",
        "function": "sys.path.append",
        "line": 5,
        "code": "sys.path.append(os.path.dirname(os.path.abspath(__file__)))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.dirname",
        "line": 5,
        "code": "os.path.dirname(os.path.abspath(__file__))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.abspath",
        "line": 5,
        "code": "os.path.abspath(__file__)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 17,
        "code": "print(\"Starting Translation Debug...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 18,
        "code": "print(\"-\" * 50)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 21,
        "code": "print(f\"Original: {text}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 22,
        "code": "print(\"-\" * 20)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translate_to_english",
        "line": 24,
        "code": "translate_to_english(text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 25,
        "code": "print(f\"Translated: {translated}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 27,
        "code": "print(f\"Error: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 28,
        "code": "print(\"-\" * 50)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/debug_translation.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "FastAPI",
        "line": 8,
        "code": "FastAPI(title=\"Arabic OCR Translation API\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "app.add_middleware",
        "line": 11,
        "code": "app.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"http://localhost:517",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "app.add_exception_handler",
        "line": 21,
        "code": "app.add_exception_handler(Exception, global_exception_handler)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "app.include_router",
        "line": 24,
        "code": "app.include_router(ocr_router)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "app.include_router",
        "line": 25,
        "code": "app.include_router(pdf_router)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "app.include_router",
        "line": 26,
        "code": "app.include_router(chat_router)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "app.get",
        "line": 28,
        "code": "app.get(\"/\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "uvicorn.run",
        "line": 41,
        "code": "uvicorn.run(app, host=\"0.0.0.0\", port=8000)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "file.filename.endswith",
        "line": 8,
        "code": "file.filename.endswith('.pdf')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/validators.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "HTTPException",
        "line": 9,
        "code": "HTTPException(status_code=400, detail=\"File must be a PDF\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/validators.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "file.read",
        "line": 11,
        "code": "file.read()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/validators.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 13,
        "code": "len(content)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/validators.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "HTTPException",
        "line": 14,
        "code": "HTTPException(status_code=400, detail=\"Uploaded file is empty\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/validators.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "content.startswith",
        "line": 16,
        "code": "content.startswith(b'%PDF')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/validators.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "HTTPException",
        "line": 17,
        "code": "HTTPException(status_code=400, detail=\"File does not appear to be a valid PDF\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/validators.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tempfile.NamedTemporaryFile",
        "line": 10,
        "code": "tempfile.NamedTemporaryFile(delete=False, suffix=suffix)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tmp.write",
        "line": 11,
        "code": "tmp.write(content)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tmp.flush",
        "line": 12,
        "code": "tmp.flush()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.exists",
        "line": 19,
        "code": "os.path.exists(path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.unlink",
        "line": 21,
        "code": "os.unlink(path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "save_content_to_temp",
        "line": 31,
        "code": "save_content_to_temp(content, suffix)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cleanup_file",
        "line": 35,
        "code": "cleanup_file(path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "APIRouter",
        "line": 5,
        "code": "APIRouter()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "router.post",
        "line": 7,
        "code": "router.post(\"/chat\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "rag_service.chat_with_document",
        "line": 13,
        "code": "rag_service.chat_with_document(request.doc_id, request.query)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "HTTPException",
        "line": 16,
        "code": "HTTPException(status_code=500, detail=str(e))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 16,
        "code": "str(e)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "APIRouter",
        "line": 10,
        "code": "APIRouter()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "router.post",
        "line": 12,
        "code": "router.post(\"/translate-pdf\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "File",
        "line": 13,
        "code": "File(...)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "validate_pdf",
        "line": 22,
        "code": "validate_pdf(file)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "save_content_to_temp",
        "line": 25,
        "code": "save_content_to_temp(content, suffix='.pdf')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "save_content_to_temp",
        "line": 27,
        "code": "save_content_to_temp(b\"\", suffix='.pdf')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translate_pdf_with_layout",
        "line": 30,
        "code": "translate_pdf_with_layout(input_pdf_path, output_pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 40,
        "code": "str(uuid.uuid4())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "uuid.uuid4",
        "line": 40,
        "code": "uuid.uuid4()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "stats.get",
        "line": 41,
        "code": "stats.get('full_text_content', '')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 44,
        "code": "print(f\"Indexing document {doc_id} for RAG...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "rag_service.index_document",
        "line": 45,
        "code": "rag_service.index_document(doc_id, full_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 46,
        "code": "print(f\"Indexing complete for {doc_id}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "background_tasks.add_task",
        "line": 52,
        "code": "background_tasks.add_task(cleanup_file, output_pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "background_tasks.add_task",
        "line": 53,
        "code": "background_tasks.add_task(cleanup_file, input_pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "FileResponse",
        "line": 55,
        "code": "FileResponse(\n            output_pdf_path,\n            media_type='application/p",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "stats.get",
        "line": 60,
        "code": "stats.get('pages_processed', 0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "stats.get",
        "line": 61,
        "code": "stats.get('text_blocks_translated', 0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "stats.get",
        "line": 62,
        "code": "stats.get('tables_translated', 0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cleanup_file",
        "line": 69,
        "code": "cleanup_file(input_pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cleanup_file",
        "line": 70,
        "code": "cleanup_file(output_pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "APIRouter",
        "line": 8,
        "code": "APIRouter()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "router.post",
        "line": 10,
        "code": "router.post(\"/process\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "File",
        "line": 11,
        "code": "File(...)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "validate_pdf",
        "line": 20,
        "code": "validate_pdf(file)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "temporary_file",
        "line": 23,
        "code": "temporary_file(content, suffix='.pdf')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "extract_arabic_text",
        "line": 25,
        "code": "extract_arabic_text(tmp_file_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_text.strip",
        "line": 27,
        "code": "arabic_text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "HTTPException",
        "line": 28,
        "code": "HTTPException(\n                    status_code=400, \n                    detail=",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translate_to_english",
        "line": 34,
        "code": "translate_to_english(arabic_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "JSONResponse",
        "line": 36,
        "code": "JSONResponse(\n                status_code=200,\n                content={\n       ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "isinstance",
        "line": 5,
        "code": "isinstance(exc, HTTPException)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "JSONResponse",
        "line": 6,
        "code": "JSONResponse(\n            status_code=exc.status_code,\n            content={\"det",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 11,
        "code": "str(exc)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "error_msg.lower",
        "line": 18,
        "code": "error_msg.lower()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "error_msg.lower",
        "line": 21,
        "code": "error_msg.lower()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "error_msg.lower",
        "line": 21,
        "code": "error_msg.lower()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "error_msg.lower",
        "line": 24,
        "code": "error_msg.lower()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "JSONResponse",
        "line": 28,
        "code": "JSONResponse(\n        status_code=status_code,\n        content={\"detail\": detail",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 28,
        "code": "print(\"Warning: PyMuPDF not available. In-place PDF editing will not work.\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 36,
        "code": "print(\"Warning: ocrmypdf not available. Scanned PDFs will not be processed corre",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "fitz.open",
        "line": 47,
        "code": "fitz.open(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "range",
        "line": 52,
        "code": "range(min(3, len(doc)))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 52,
        "code": "min(3, len(doc))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 52,
        "code": "len(doc)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "doc[i].get_text",
        "line": 53,
        "code": "doc[i].get_text()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.strip",
        "line": 54,
        "code": "text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 55,
        "code": "len(text.strip())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.strip",
        "line": 55,
        "code": "text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "doc.close",
        "line": 57,
        "code": "doc.close()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 65,
        "code": "print(\"Warning: PDF seems scanned but ocrmypdf is not available.\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 68,
        "code": "print(\"PDF appears to be scanned/image-based. Running OCR...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tempfile.mkstemp",
        "line": 71,
        "code": "tempfile.mkstemp(suffix='.pdf')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.close",
        "line": 72,
        "code": "os.close(temp_fd)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "ocrmypdf.ocr",
        "line": 75,
        "code": "ocrmypdf.ocr(\n                pdf_path,\n                temp_path,\n             ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 83,
        "code": "print(\"OCR complete. Using searchable PDF version.\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 86,
        "code": "print(f\"OCR failed: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.exists",
        "line": 87,
        "code": "os.path.exists(temp_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.unlink",
        "line": 88,
        "code": "os.unlink(temp_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 92,
        "code": "print(f\"Error checking/OCRing PDF: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "Exception",
        "line": 101,
        "code": "Exception(\"PyMuPDF is required for in-place PDF editing but is not available.\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_ensure_searchable_pdf",
        "line": 104,
        "code": "_ensure_searchable_pdf(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 107,
        "code": "print(\"=\" * 60)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 108,
        "code": "print(\"Starting in-place PDF translation (block-level processing)\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 109,
        "code": "print(\"=\" * 60)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "fitz.open",
        "line": 112,
        "code": "fitz.open(working_pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.compile",
        "line": 113,
        "code": "re.compile(r'[\\u0600-\\u06FF]')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.compile",
        "line": 116,
        "code": "re.compile(r'^[\\d\\s\\.,\\-%$\u20ac\u00a3/]+$')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 119,
        "code": "len(doc)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.join",
        "line": 126,
        "code": "os.path.join(os.path.dirname(os.path.dirname(__file__)), \"assets\", \"fonts\", \"Not",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.dirname",
        "line": 126,
        "code": "os.path.dirname(os.path.dirname(__file__))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.dirname",
        "line": 126,
        "code": "os.path.dirname(__file__)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.join",
        "line": 127,
        "code": "os.path.join(os.path.dirname(os.path.dirname(__file__)), \"assets\", \"fonts\", \"Not",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.dirname",
        "line": 127,
        "code": "os.path.dirname(os.path.dirname(__file__))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.dirname",
        "line": 127,
        "code": "os.path.dirname(__file__)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.exists",
        "line": 129,
        "code": "os.path.exists(font_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.exists",
        "line": 130,
        "code": "os.path.exists(font_path_bold)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 133,
        "code": "print(f\"Using custom font: {font_path}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 135,
        "code": "print(f\"Using custom bold font: {font_path_bold}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "range",
        "line": 138,
        "code": "range(len(doc))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 138,
        "code": "len(doc)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.insert_font",
        "line": 144,
        "code": "page.insert_font(fontname=\"noto\", fontfile=font_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 146,
        "code": "print(f\"Font registration warning: {fe}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.insert_font",
        "line": 151,
        "code": "page.insert_font(fontname=\"noto-bold\", fontfile=font_path_bold)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 153,
        "code": "print(f\"Bold Font registration warning: {fe}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 155,
        "code": "print(f\"\\nProcessing page {page_num + 1}/{len(doc)}...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 155,
        "code": "len(doc)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.find_tables",
        "line": 163,
        "code": "page.find_tables()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 165,
        "code": "print(f\"  Found {len(tables)} tables.\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 165,
        "code": "len(tables)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "table_exclusion_rects.append",
        "line": 167,
        "code": "table_exclusion_rects.append(table.bbox)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.get_text(\"text\", clip=cell).strip",
        "line": 173,
        "code": "page.get_text(\"text\", clip=cell).strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.get_text",
        "line": 173,
        "code": "page.get_text(\"text\", clip=cell)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 179,
        "code": "arabic_pattern.search(cell_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "normalize_arabic_numerals",
        "line": 181,
        "code": "normalize_arabic_numerals(cell_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "numeric_pattern.match",
        "line": 184,
        "code": "numeric_pattern.match(normalized_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translate_to_english",
        "line": 190,
        "code": "translate_to_english(normalized_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 192,
        "code": "print(f\"    Table cell translation error: {te}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "stats['full_translated_text'].append",
        "line": 197,
        "code": "stats['full_translated_text'].append(translated_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "fitz.Rect",
        "line": 200,
        "code": "fitz.Rect(cell)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "fitz.Rect",
        "line": 201,
        "code": "fitz.Rect(cell_rect[0]-1, cell_rect[1]-1, cell_rect[2]+1, cell_rect[3]+1)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.new_shape",
        "line": 203,
        "code": "page.new_shape()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.draw_rect",
        "line": 204,
        "code": "shape.draw_rect(cover_rect)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.finish",
        "line": 205,
        "code": "shape.finish(color=(1, 1, 1), fill=(1, 1, 1), width=0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.commit",
        "line": 206,
        "code": "shape.commit()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.insert_textbox",
        "line": 215,
        "code": "page.insert_textbox(\n                                            cell_rect,\n    ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.new_shape",
        "line": 227,
        "code": "page.new_shape()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.draw_rect",
        "line": 228,
        "code": "shape.draw_rect(cover_rect)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.finish",
        "line": 229,
        "code": "shape.finish(color=(1, 1, 1), fill=(1, 1, 1), width=0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.commit",
        "line": 230,
        "code": "shape.commit()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.insert_textbox",
        "line": 232,
        "code": "page.insert_textbox(\n                                                cell_rect,\n",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 240,
        "code": "len(tables)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 243,
        "code": "print(f\"  Table processing warning: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.get_text",
        "line": 248,
        "code": "page.get_text(\"dict\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "fitz.Rect",
        "line": 258,
        "code": "fitz.Rect(block[\"bbox\"])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "fitz.Rect(t_rect).intersects",
        "line": 261,
        "code": "fitz.Rect(t_rect).intersects(block_rect)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "fitz.Rect",
        "line": 261,
        "code": "fitz.Rect(t_rect)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "float",
        "line": 272,
        "code": "float('inf')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "float",
        "line": 272,
        "code": "float('inf')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "float",
        "line": 273,
        "code": "float('-inf')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "float",
        "line": 273,
        "code": "float('-inf')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "\" \".join",
        "line": 286,
        "code": "\" \".join([s.get(\"text\", \"\") for s in spans])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "s.get",
        "line": 286,
        "code": "s.get(\"text\", \"\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "bool",
        "line": 287,
        "code": "bool(arabic_pattern.search(line_text))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 287,
        "code": "arabic_pattern.search(line_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "spans.sort",
        "line": 292,
        "code": "spans.sort(key=lambda s: s[\"bbox\"][0], reverse=True)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "spans.sort",
        "line": 295,
        "code": "spans.sort(key=lambda s: s[\"bbox\"][0])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "span.get(\"text\", \"\").strip",
        "line": 298,
        "code": "span.get(\"text\", \"\").strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "span.get",
        "line": 298,
        "code": "span.get(\"text\", \"\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "block_text_parts.append",
        "line": 300,
        "code": "block_text_parts.append(span_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "block_spans.append",
        "line": 301,
        "code": "block_spans.append(span)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 304,
        "code": "min(min_x, bbox[0])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 305,
        "code": "min(min_y, bbox[1])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 306,
        "code": "max(max_x, bbox[2])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 307,
        "code": "max(max_y, bbox[3])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "\" \".join",
        "line": 313,
        "code": "\" \".join(block_text_parts)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 316,
        "code": "arabic_pattern.search(combined_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "s.get",
        "line": 318,
        "code": "s.get(\"size\", 12)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sum",
        "line": 319,
        "code": "sum(font_sizes)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 319,
        "code": "len(font_sizes)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text_blocks.append",
        "line": 321,
        "code": "text_blocks.append({\n                            'text': combined_text,\n        ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 328,
        "code": "print(f\"Found {len(text_blocks)} Arabic text blocks on page {page_num + 1}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 328,
        "code": "len(text_blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sum",
        "line": 335,
        "code": "sum(all_sizes)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 335,
        "code": "len(all_sizes)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 336,
        "code": "print(f\"Page {page_num+1} stats: Avg Font Size={page_avg_size:.2f}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 356,
        "code": "enumerate(text_blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "normalize_arabic_numerals",
        "line": 365,
        "code": "normalize_arabic_numerals(original_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translate_to_english",
        "line": 373,
        "code": "translate_to_english(normalized_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 376,
        "code": "arabic_pattern.search(translated_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "stats['full_translated_text'].append",
        "line": 378,
        "code": "stats['full_translated_text'].append(translated_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "fitz.Rect",
        "line": 381,
        "code": "fitz.Rect(bbox)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "fitz.Rect",
        "line": 385,
        "code": "fitz.Rect(bbox[0]-1, bbox[1]-1, bbox[2]+1, bbox[3]+1)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.new_shape",
        "line": 389,
        "code": "page.new_shape()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.draw_rect",
        "line": 390,
        "code": "shape.draw_rect(cover_rect)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.finish",
        "line": 391,
        "code": "shape.finish(color=(1, 1, 1), fill=(1, 1, 1), width=0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.commit",
        "line": 392,
        "code": "shape.commit()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text_block.get",
        "line": 409,
        "code": "text_block.get('type', 'body')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.insert_textbox",
        "line": 418,
        "code": "page.insert_textbox(\n                                rect,\n                     ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.new_shape",
        "line": 439,
        "code": "page.new_shape()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.draw_rect",
        "line": 440,
        "code": "shape.draw_rect(cover_rect)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.finish",
        "line": 441,
        "code": "shape.finish(color=(1, 1, 1), fill=(1, 1, 1), width=0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "shape.commit",
        "line": 442,
        "code": "shape.commit()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.insert_textbox",
        "line": 444,
        "code": "page.insert_textbox(\n                                        rect,\n             ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 455,
        "code": "print(f\"    Text insertion error: {insert_error}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 460,
        "code": "print(f\"    Skipping: Translation failed or empty\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 463,
        "code": "print(f\"    Block processing error: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "doc.save",
        "line": 466,
        "code": "doc.save(output_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "doc.close",
        "line": 467,
        "code": "doc.close()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.exists",
        "line": 470,
        "code": "os.path.exists(working_pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.unlink",
        "line": 472,
        "code": "os.unlink(working_pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 476,
        "code": "print(\"\\n\" + \"=\" * 60)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 477,
        "code": "print(f\"In-place translation complete!\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 478,
        "code": "print(f\"Output saved to: {output_path}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 479,
        "code": "print(\"=\" * 60)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "\"\\n\\n\".join",
        "line": 481,
        "code": "\"\\n\\n\".join(stats['full_translated_text'])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "locals",
        "line": 487,
        "code": "locals()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "doc.close",
        "line": 488,
        "code": "doc.close()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "Exception",
        "line": 489,
        "code": "Exception(f\"In-place PDF translation failed: {str(e)}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 489,
        "code": "str(e)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 499,
        "code": "print(\"=\" * 60)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 500,
        "code": "print(\"STRICT MODE: Using In-Place Translation Only\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 501,
        "code": "print(\"Reconstruction/Re-rendering is disabled to preserve specific layout.\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 502,
        "code": "print(\"=\" * 60)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translate_pdf_inplace",
        "line": 505,
        "code": "translate_pdf_inplace(pdf_path, output_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "norm",
        "line": 511,
        "code": "norm(text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.getenv",
        "line": 10,
        "code": "os.getenv(\"QDRANT_HOST\", \"localhost\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "int",
        "line": 11,
        "code": "int(os.getenv(\"QDRANT_PORT\", 6333))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.getenv",
        "line": 11,
        "code": "os.getenv(\"QDRANT_PORT\", 6333)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.getenv",
        "line": 14,
        "code": "os.getenv(\"OLLAMA_MODEL\", \"llama3.2:3b-instruct-q4_k_m\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.getenv",
        "line": 15,
        "code": "os.getenv(\"OLLAMA_HOST\", \"http://localhost:11434\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "QdrantClient",
        "line": 22,
        "code": "QdrantClient(host=QDRANT_HOST, port=QDRANT_PORT)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 25,
        "code": "print(f\"Loading embedding model: {EMBEDDING_MODEL_NAME}...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "SentenceTransformer",
        "line": 26,
        "code": "SentenceTransformer(EMBEDDING_MODEL_NAME)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 27,
        "code": "print(\"Embedding model loaded.\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "self._ensure_collection",
        "line": 29,
        "code": "self._ensure_collection()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 30,
        "code": "print(f\"Connected to Qdrant at {QDRANT_HOST}:{QDRANT_PORT}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "ollama.Client",
        "line": 33,
        "code": "ollama.Client(host=OLLAMA_HOST)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 34,
        "code": "print(f\"Connected to Ollama at {OLLAMA_HOST} using model {CHAT_MODEL}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 37,
        "code": "print(f\"Failed to connect to services: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "self.client.get_collections",
        "line": 46,
        "code": "self.client.get_collections()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "any",
        "line": 47,
        "code": "any(c.name == COLLECTION_NAME for c in collections.collections)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "self.client.create_collection",
        "line": 57,
        "code": "self.client.create_collection(\n                collection_name=COLLECTION_NAME,\n",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "models.VectorParams",
        "line": 59,
        "code": "models.VectorParams(\n                    size=vector_size,\n                    d",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 64,
        "code": "print(f\"Created collection: {COLLECTION_NAME}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "self.encoder.encode",
        "line": 70,
        "code": "self.encoder.encode(text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "embedding.tolist",
        "line": 71,
        "code": "embedding.tolist()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 73,
        "code": "print(f\"Error getting embedding: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 81,
        "code": "print(\"Qdrant client not initialized.\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "self._chunk_text",
        "line": 86,
        "code": "self._chunk_text(text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 89,
        "code": "enumerate(chunks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "chunk.strip",
        "line": 90,
        "code": "chunk.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "self._get_embedding",
        "line": 94,
        "code": "self._get_embedding(chunk)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "points.append",
        "line": 102,
        "code": "points.append(models.PointStruct(\n                    id=str(uuid.uuid4()),\n    ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "models.PointStruct",
        "line": 102,
        "code": "models.PointStruct(\n                    id=str(uuid.uuid4()),\n                  ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 103,
        "code": "str(uuid.uuid4())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "uuid.uuid4",
        "line": 103,
        "code": "uuid.uuid4()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 108,
        "code": "print(f\"Error embedding chunk {i}: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "self.client.upsert",
        "line": 113,
        "code": "self.client.upsert(\n                    collection_name=COLLECTION_NAME,\n       ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 117,
        "code": "print(f\"Indexed {len(points)} chunks for document {doc_id}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 117,
        "code": "len(points)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 120,
        "code": "print(f\"Error upserting to Qdrant: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "self._get_embedding",
        "line": 134,
        "code": "self._get_embedding(query)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 136,
        "code": "str(e)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "self.client.query_points",
        "line": 140,
        "code": "self.client.query_points(\n                collection_name=COLLECTION_NAME,\n     ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "models.Filter",
        "line": 143,
        "code": "models.Filter(\n                    must=[\n                        models.FieldCo",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "models.FieldCondition",
        "line": 145,
        "code": "models.FieldCondition(\n                            key=\"doc_id\",\n               ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "models.MatchValue",
        "line": 147,
        "code": "models.MatchValue(value=doc_id)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 154,
        "code": "str(e)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "\"\\n\\n\".join",
        "line": 160,
        "code": "\"\\n\\n\".join([hit.payload[\"text\"] for hit in search_result])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "ollama.Client",
        "line": 178,
        "code": "ollama.Client(host=OLLAMA_HOST)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "self.ollama_client.chat",
        "line": 180,
        "code": "self.ollama_client.chat(model=CHAT_MODEL, messages=messages)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 183,
        "code": "str(e)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 192,
        "code": "len(text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.rfind",
        "line": 200,
        "code": "text.rfind('\\n', start, end)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.rfind",
        "line": 205,
        "code": "text.rfind('. ', start, end)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text[start:end].strip",
        "line": 209,
        "code": "text[start:end].strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "chunks.append",
        "line": 211,
        "code": "chunks.append(chunk)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "RAGService",
        "line": 220,
        "code": "RAGService()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.strip",
        "line": 22,
        "code": "text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_extract_with_pymupdf",
        "line": 45,
        "code": "_extract_with_pymupdf(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 47,
        "code": "print(f\"PyMuPDF extraction failed: {e}, trying pdfplumber...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "pdfplumber.open",
        "line": 53,
        "code": "pdfplumber.open(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 54,
        "code": "enumerate(pdf.pages, 1)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.extract_words",
        "line": 56,
        "code": "page.extract_words(\n                        x_tolerance=3,\n                     ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_group_words_into_blocks",
        "line": 64,
        "code": "_group_words_into_blocks(words, page_num, page.height)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "blocks.extend",
        "line": 65,
        "code": "blocks.extend(text_blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.extract_tables",
        "line": 68,
        "code": "page.extract_tables()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_extract_table_blocks",
        "line": 71,
        "code": "_extract_table_blocks(table, page_num, page.height)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "blocks.extend",
        "line": 72,
        "code": "blocks.extend(table_blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 74,
        "code": "print(f\"Text-based extraction failed: {e}, trying OCR...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_extract_with_ocr",
        "line": 76,
        "code": "_extract_with_ocr(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_postprocess_blocks",
        "line": 79,
        "code": "_postprocess_blocks(blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "fitz.open",
        "line": 86,
        "code": "fitz.open(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "range",
        "line": 87,
        "code": "range(len(doc))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 87,
        "code": "len(doc)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "doc.load_page",
        "line": 88,
        "code": "doc.load_page(page_index)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.get_text",
        "line": 91,
        "code": "page.get_text(\"dict\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "data.get",
        "line": 94,
        "code": "data.get(\"blocks\", [])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "block.get",
        "line": 95,
        "code": "block.get(\"type\", 0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.compile",
        "line": 100,
        "code": "re.compile(r'[\\u0600-\\u06FF]')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "block.get",
        "line": 105,
        "code": "block.get(\"lines\", [])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line.get",
        "line": 107,
        "code": "line.get(\"spans\", [])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "span.get(\"text\", \"\").strip",
        "line": 108,
        "code": "span.get(\"text\", \"\").strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "span.get",
        "line": 108,
        "code": "span.get(\"text\", \"\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line_spans.append",
        "line": 123,
        "code": "line_spans.append(span_data)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "all_spans.append",
        "line": 124,
        "code": "all_spans.append(span_data)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "any",
        "line": 130,
        "code": "any(arabic_re.search(s['text']) for s in line_spans)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_re.search",
        "line": 130,
        "code": "arabic_re.search(s['text'])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sorted",
        "line": 134,
        "code": "sorted(line_spans, key=lambda s: s['x1'], reverse=True)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sorted",
        "line": 137,
        "code": "sorted(line_spans, key=lambda s: s['x0'])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "' '.join",
        "line": 139,
        "code": "' '.join(s['text'] for s in ordered)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line_texts.append",
        "line": 140,
        "code": "line_texts.append(line_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "'\\n'.join(line_texts).strip",
        "line": 142,
        "code": "'\\n'.join(line_texts).strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "'\\n'.join",
        "line": 142,
        "code": "'\\n'.join(line_texts)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 150,
        "code": "min(s['x0'] for s in spans)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 151,
        "code": "min(s['y0'] for s in spans)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 152,
        "code": "max(s['x1'] for s in spans)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 153,
        "code": "max(s['y1'] for s in spans)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "results.append",
        "line": 157,
        "code": "results.append(TextBlock(text, x0, y0, x1, y1, page_num))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "TextBlock",
        "line": 157,
        "code": "TextBlock(text, x0, y0, x1, y1, page_num)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "doc.close",
        "line": 159,
        "code": "doc.close()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 160,
        "code": "print(f\"PyMuPDF extracted {len(results)} text blocks\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 160,
        "code": "len(results)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 162,
        "code": "print(f\"PyMuPDF extraction failed: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "traceback.print_exc",
        "line": 164,
        "code": "traceback.print_exc()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "abs",
        "line": 181,
        "code": "abs(word_y - current_y)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "current_line.append",
        "line": 183,
        "code": "current_line.append(word)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_create_block_from_words",
        "line": 189,
        "code": "_create_block_from_words(current_line, page_num, page_height)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "blocks.append",
        "line": 191,
        "code": "blocks.append(block)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_create_block_from_words",
        "line": 197,
        "code": "_create_block_from_words(current_line, page_num, page_height)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "blocks.append",
        "line": 199,
        "code": "blocks.append(block)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 209,
        "code": "min(w['x0'] for w in words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 210,
        "code": "max(w['top'] for w in words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 211,
        "code": "max(w['x1'] for w in words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 212,
        "code": "min(w['top'] for w in words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.compile",
        "line": 217,
        "code": "re.compile(r'[\\u0600-\\u06FF]')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "abs",
        "line": 227,
        "code": "abs(word_y - current_y)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "current_line.append",
        "line": 228,
        "code": "current_line.append(word)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "lines.append",
        "line": 233,
        "code": "lines.append(current_line)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "lines.append",
        "line": 238,
        "code": "lines.append(current_line)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "any",
        "line": 243,
        "code": "any(arabic_re.search(str(w.get('text',''))) for w in line_words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_re.search",
        "line": 243,
        "code": "arabic_re.search(str(w.get('text','')))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 243,
        "code": "str(w.get('text',''))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "w.get",
        "line": 243,
        "code": "w.get('text','')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sorted",
        "line": 246,
        "code": "sorted(line_words, key=lambda w: w['x1'], reverse=True)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sorted",
        "line": 249,
        "code": "sorted(line_words, key=lambda w: w['x0'])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "' '.join",
        "line": 250,
        "code": "' '.join(w['text'] for w in ordered)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line_texts.append",
        "line": 251,
        "code": "line_texts.append(line_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "'\\n'.join",
        "line": 253,
        "code": "'\\n'.join(line_texts)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "TextBlock",
        "line": 255,
        "code": "TextBlock(text, x0, y0, x1, y1, page_num)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 260,
        "code": "max(ax0, bx0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 260,
        "code": "max(ay0, by0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 261,
        "code": "min(ax1, bx1)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 261,
        "code": "min(ay1, by1)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 262,
        "code": "max(0.0, ix1 - ix0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 262,
        "code": "max(0.0, iy1 - iy0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 268,
        "code": "max(area_a + area_b - inter, 1e-6)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "by_page.setdefault(b.page_num, []).append",
        "line": 277,
        "code": "by_page.setdefault(b.page_num, []).append(b)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "by_page.setdefault",
        "line": 277,
        "code": "by_page.setdefault(b.page_num, [])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "by_page.items",
        "line": 279,
        "code": "by_page.items()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sorted",
        "line": 281,
        "code": "sorted(arr, key=lambda b: (-b.y1, b.x0))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 284,
        "code": "len(b.text.strip())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "b.text.strip",
        "line": 284,
        "code": "b.text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_iou",
        "line": 292,
        "code": "_iou(k, b)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "kept.append",
        "line": 297,
        "code": "kept.append(b)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cleaned.extend",
        "line": 298,
        "code": "cleaned.extend(kept)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 306,
        "code": "enumerate(table)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 307,
        "code": "enumerate(row)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str(cell).strip",
        "line": 308,
        "code": "str(cell).strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 308,
        "code": "str(cell)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "TextBlock",
        "line": 310,
        "code": "TextBlock(\n                    str(cell).strip(),\n                    0, 0, 0, 0",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str(cell).strip",
        "line": 311,
        "code": "str(cell).strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 311,
        "code": "str(cell)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "blocks.append",
        "line": 316,
        "code": "blocks.append(text_block)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "convert_from_path",
        "line": 325,
        "code": "convert_from_path(pdf_path, dpi=400)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 327,
        "code": "enumerate(images, 1)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "pytesseract.image_to_data",
        "line": 335,
        "code": "pytesseract.image_to_data(\n                        image,\n                      ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "range",
        "line": 349,
        "code": "range(len(ocr_data['text']))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 349,
        "code": "len(ocr_data['text'])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "ocr_data['text'][i].strip",
        "line": 350,
        "code": "ocr_data['text'][i].strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "int",
        "line": 351,
        "code": "int(ocr_data['conf'][i])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "current_block_words.append",
        "line": 368,
        "code": "current_block_words.append({\n                                'text': text,\n     ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "abs",
        "line": 378,
        "code": "abs(y - current_y)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "current_block_words.append",
        "line": 380,
        "code": "current_block_words.append({\n                                'text': text,\n     ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sum",
        "line": 389,
        "code": "sum(w['y0'] for w in current_block_words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 389,
        "code": "len(current_block_words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_create_block_from_ocr_words",
        "line": 393,
        "code": "_create_block_from_ocr_words(\n                                    current_block_",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page_blocks.append",
        "line": 397,
        "code": "page_blocks.append(block)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_create_block_from_ocr_words",
        "line": 413,
        "code": "_create_block_from_ocr_words(\n                            current_block_words, p",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page_blocks.append",
        "line": 417,
        "code": "page_blocks.append(block)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 420,
        "code": "len(page_blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 420,
        "code": "len(best_blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 424,
        "code": "print(f\"OCR extraction with PSM {psm} failed: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "blocks.extend",
        "line": 427,
        "code": "blocks.extend(best_blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 430,
        "code": "print(f\"OCR extraction failed: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "traceback.print_exc",
        "line": 432,
        "code": "traceback.print_exc()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 442,
        "code": "min(w['x0'] for w in words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 443,
        "code": "min(w['y0'] for w in words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 444,
        "code": "max(w['x1'] for w in words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 445,
        "code": "max(w['y1'] for w in words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.compile",
        "line": 449,
        "code": "re.compile(r'[\\u0600-\\u06FF]')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "any",
        "line": 450,
        "code": "any(arabic_re.search(str(w.get('text',''))) for w in words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_re.search",
        "line": 450,
        "code": "arabic_re.search(str(w.get('text','')))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 450,
        "code": "str(w.get('text',''))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "w.get",
        "line": 450,
        "code": "w.get('text','')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sorted",
        "line": 452,
        "code": "sorted(words, key=lambda w: w['x1'], reverse=True)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sorted",
        "line": 454,
        "code": "sorted(words, key=lambda w: w['x0'])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "' '.join",
        "line": 455,
        "code": "' '.join(w['text'] for w in ordered)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "TextBlock",
        "line": 457,
        "code": "TextBlock(text, x0, y0, x1, y1, page_num)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str.maketrans",
        "line": 464,
        "code": "str.maketrans(arabic_numerals, western_numerals)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.translate",
        "line": 465,
        "code": "text.translate(translation_table)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 22,
        "code": "print(f\"Loading translation model: {model_name}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "MarianTokenizer.from_pretrained",
        "line": 23,
        "code": "MarianTokenizer.from_pretrained(model_name)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "MarianMTModel.from_pretrained",
        "line": 24,
        "code": "MarianMTModel.from_pretrained(model_name)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_model.eval",
        "line": 27,
        "code": "_model.eval()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "torch.device",
        "line": 28,
        "code": "torch.device(\"cuda\" if torch.cuda.is_available() else \"cpu\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "torch.cuda.is_available",
        "line": 28,
        "code": "torch.cuda.is_available()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_model.to",
        "line": 29,
        "code": "_model.to(_device)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 31,
        "code": "print(f\"Translation model loaded successfully: {model_name}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 34,
        "code": "print(f\"Failed to load {model_name}: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_text.strip",
        "line": 46,
        "code": "arabic_text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.compile",
        "line": 51,
        "code": "re.compile(r'[\\u0600-\\u06FF]')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 52,
        "code": "arabic_pattern.search(arabic_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.search",
        "line": 55,
        "code": "re.search(r'[a-zA-Z]', arabic_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_text.strip",
        "line": 56,
        "code": "arabic_text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_text.strip",
        "line": 58,
        "code": "arabic_text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "get_translation_model",
        "line": 60,
        "code": "get_translation_model()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_text.strip",
        "line": 63,
        "code": "arabic_text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.sub",
        "line": 67,
        "code": "re.sub(r'[ \\t]+', ' ', text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.sub",
        "line": 68,
        "code": "re.sub(r'\\n\\s*\\n', '\\n\\n', text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.split",
        "line": 73,
        "code": "text.split('\\n')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line.strip",
        "line": 77,
        "code": "line.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated_lines.append",
        "line": 78,
        "code": "translated_lines.append(\"\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.split",
        "line": 83,
        "code": "re.split(sentence_endings, line)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "range",
        "line": 87,
        "code": "range(0, len(sentences) - 1, 2)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 87,
        "code": "len(sentences)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sentences[i].strip",
        "line": 88,
        "code": "sentences[i].strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 89,
        "code": "len(sentences)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sentence_pairs.append",
        "line": 91,
        "code": "sentence_pairs.append((sentence, punct))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line.strip",
        "line": 95,
        "code": "line.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sentence.strip",
        "line": 100,
        "code": "sentence.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 104,
        "code": "arabic_pattern.search(sentence)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line_translated_parts.append",
        "line": 105,
        "code": "line_translated_parts.append(sentence + punct)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_translate_batch",
        "line": 110,
        "code": "_translate_batch(sentence, model, tokenizer)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated.strip",
        "line": 112,
        "code": "translated.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 114,
        "code": "arabic_pattern.search(translated)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_translate_batch",
        "line": 116,
        "code": "_translate_batch(sentence, model, tokenizer)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 117,
        "code": "arabic_pattern.search(translated)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 118,
        "code": "print(f\"Warning: Failed to translate sentence: {sentence[:50]}...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_is_bad_translation",
        "line": 122,
        "code": "_is_bad_translation(translated, sentence)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 123,
        "code": "print(f\"Warning: Bad translation detected, skipping: {sentence[:50]}...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line_translated_parts.append",
        "line": 126,
        "code": "line_translated_parts.append(translated.strip() + punct)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated.strip",
        "line": 126,
        "code": "translated.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 128,
        "code": "print(f\"Translation error for sentence: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated_lines.append",
        "line": 132,
        "code": "translated_lines.append(' '.join(line_translated_parts))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "' '.join",
        "line": 132,
        "code": "' '.join(line_translated_parts)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated_lines.append",
        "line": 134,
        "code": "translated_lines.append(\"\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "'\\n'.join(translated_lines).strip",
        "line": 136,
        "code": "'\\n'.join(translated_lines).strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "'\\n'.join",
        "line": 136,
        "code": "'\\n'.join(translated_lines)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 139,
        "code": "arabic_pattern.search(result)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 140,
        "code": "print(f\"Warning: Translation result still contains Arabic characters\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated.lower",
        "line": 153,
        "code": "translated.lower()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated_lower.count",
        "line": 157,
        "code": "translated_lower.count(phrase)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated_lower.split",
        "line": 162,
        "code": "translated_lower.split()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 163,
        "code": "len(words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "word_counts.get",
        "line": 169,
        "code": "word_counts.get(word, 0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 171,
        "code": "max(word_counts.values())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "word_counts.values",
        "line": 171,
        "code": "word_counts.values()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 172,
        "code": "len(words)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 177,
        "code": "len(translated.strip())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated.strip",
        "line": 177,
        "code": "translated.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 177,
        "code": "len(original.strip())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "original.strip",
        "line": 177,
        "code": "original.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.search",
        "line": 181,
        "code": "re.search(r'\\b(\\w+)\\s*,\\s*\\1\\s*,\\s*\\1', translated, re.IGNORECASE)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.strip",
        "line": 188,
        "code": "text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.compile",
        "line": 193,
        "code": "re.compile(r'[\\u0600-\\u06FF]')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 194,
        "code": "arabic_pattern.search(text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.strip",
        "line": 196,
        "code": "text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "' '.join",
        "line": 199,
        "code": "' '.join(text.split())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.split",
        "line": 199,
        "code": "text.split()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tokenizer",
        "line": 202,
        "code": "tokenizer(\n            text, \n            return_tensors=\"pt\", \n            padd",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "next",
        "line": 209,
        "code": "next(model.parameters())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "model.parameters",
        "line": 209,
        "code": "model.parameters()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "v.to",
        "line": 210,
        "code": "v.to(model.device)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "inputs.items",
        "line": 210,
        "code": "inputs.items()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "torch.no_grad",
        "line": 213,
        "code": "torch.no_grad()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "model.generate",
        "line": 214,
        "code": "model.generate(\n                **inputs, \n                max_length=512,  # Ou",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tokenizer.decode",
        "line": 225,
        "code": "tokenizer.decode(translated[0].detach().cpu(), skip_special_tokens=True)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated[0].detach().cpu",
        "line": 225,
        "code": "translated[0].detach().cpu()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated[0].detach",
        "line": 225,
        "code": "translated[0].detach()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated_text.strip",
        "line": 227,
        "code": "translated_text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "arabic_pattern.search",
        "line": 230,
        "code": "arabic_pattern.search(result)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 231,
        "code": "print(f\"Warning: Translation result contains Arabic: {result[:50]}...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_is_bad_translation",
        "line": 235,
        "code": "_is_bad_translation(result, text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 236,
        "code": "print(f\"Warning: Detected bad translation, retrying...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "torch.no_grad",
        "line": 238,
        "code": "torch.no_grad()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "model.generate",
        "line": 239,
        "code": "model.generate(\n                    **inputs,\n                    max_length=512",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tokenizer.decode(translated[0].detach().cpu(), skip_special_tokens=True).strip",
        "line": 247,
        "code": "tokenizer.decode(translated[0].detach().cpu(), skip_special_tokens=True).strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tokenizer.decode",
        "line": 247,
        "code": "tokenizer.decode(translated[0].detach().cpu(), skip_special_tokens=True)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated[0].detach().cpu",
        "line": 247,
        "code": "translated[0].detach().cpu()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "translated[0].detach",
        "line": 247,
        "code": "translated[0].detach()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_is_bad_translation",
        "line": 250,
        "code": "_is_bad_translation(result, text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 251,
        "code": "print(f\"Warning: Translation still appears bad: {result[:50]}...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 257,
        "code": "print(f\"Translation error: {str(e)}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 257,
        "code": "str(e)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 259,
        "code": "len(text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 260,
        "code": "len(text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "range",
        "line": 262,
        "code": "range(mid, min(mid + 50, len(text)))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 262,
        "code": "min(mid + 50, len(text))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 262,
        "code": "len(text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_translate_batch",
        "line": 267,
        "code": "_translate_batch(part1, model, tokenizer)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_translate_batch",
        "line": 268,
        "code": "_translate_batch(part2, model, tokenizer)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "(trans1 + \" \" + trans2).strip",
        "line": 270,
        "code": "(trans1 + \" \" + trans2).strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 279,
        "code": "len(chunks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "c.strip",
        "line": 280,
        "code": "c.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "results.extend",
        "line": 282,
        "code": "results.extend([\"\" for _ in chunks[i:i+batch_size]])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tokenizer",
        "line": 286,
        "code": "tokenizer(\n                batch,\n                return_tensors=\"pt\",\n         ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "next",
        "line": 293,
        "code": "next(model.parameters())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "model.parameters",
        "line": 293,
        "code": "model.parameters()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "v.to",
        "line": 294,
        "code": "v.to(model.device)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "inputs.items",
        "line": 294,
        "code": "inputs.items()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "torch.no_grad",
        "line": 295,
        "code": "torch.no_grad()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "model.generate",
        "line": 296,
        "code": "model.generate(\n                    **inputs,\n                    max_length=512",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tokenizer.batch_decode",
        "line": 304,
        "code": "tokenizer.batch_decode(outputs.detach().cpu(), skip_special_tokens=True)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "outputs.detach().cpu",
        "line": 304,
        "code": "outputs.detach().cpu()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "outputs.detach",
        "line": 304,
        "code": "outputs.detach()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "results.extend",
        "line": 305,
        "code": "results.extend([d.strip() for d in decoded])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "d.strip",
        "line": 305,
        "code": "d.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "results.append",
        "line": 308,
        "code": "results.append(_translate_batch(c, model, tokenizer))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_translate_batch",
        "line": 308,
        "code": "_translate_batch(c, model, tokenizer)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.exists",
        "line": 18,
        "code": "os.path.exists(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "Exception",
        "line": 19,
        "code": "Exception(f\"PDF file not found: {pdf_path}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.getsize",
        "line": 21,
        "code": "os.path.getsize(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "Exception",
        "line": 22,
        "code": "Exception(\"PDF file is empty\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "convert_from_path",
        "line": 27,
        "code": "convert_from_path(pdf_path, dpi=400, fmt='png')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "Exception",
        "line": 30,
        "code": "Exception(\"Could not convert PDF pages to images. The PDF might be corrupted.\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 34,
        "code": "enumerate(images)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "image.convert",
        "line": 39,
        "code": "image.convert('RGB')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_preprocess_for_ocr",
        "line": 42,
        "code": "_preprocess_for_ocr(image)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "pytesseract.image_to_string",
        "line": 55,
        "code": "pytesseract.image_to_string(\n                            preprocessed,\n         ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.strip",
        "line": 61,
        "code": "text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "'\\n'.join",
        "line": 63,
        "code": "'\\n'.join(line.strip() for line in text.split('\\n') if line.strip())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line.strip",
        "line": 63,
        "code": "line.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.split",
        "line": 63,
        "code": "text.split('\\n')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line.strip",
        "line": 63,
        "code": "line.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 66,
        "code": "len(cleaned_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 66,
        "code": "len(best_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "extracted_texts.append",
        "line": 72,
        "code": "extracted_texts.append(best_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "pytesseract.image_to_string",
        "line": 78,
        "code": "pytesseract.image_to_string(preprocessed, lang='ara', config=config)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.strip",
        "line": 79,
        "code": "text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "'\\n'.join",
        "line": 80,
        "code": "'\\n'.join(line.strip() for line in text.split('\\n') if line.strip())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line.strip",
        "line": 80,
        "code": "line.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.split",
        "line": 80,
        "code": "text.split('\\n')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line.strip",
        "line": 80,
        "code": "line.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "extracted_texts.append",
        "line": 82,
        "code": "extracted_texts.append(cleaned_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "Exception",
        "line": 88,
        "code": "Exception(\"No text could be extracted from the PDF. The PDF might not contain re",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "'\\n\\n'.join",
        "line": 91,
        "code": "'\\n\\n'.join(extracted_texts)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "re.sub",
        "line": 97,
        "code": "re.sub(r'([\\u0600-\\u06FF])\\1+', r'\\1', full_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "full_text.replace",
        "line": 100,
        "code": "full_text.replace('\u061b', '\u061b')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "full_text.replace",
        "line": 101,
        "code": "full_text.replace('\u060c', '\u060c')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "full_text.replace",
        "line": 103,
        "code": "full_text.replace('\u0621\u0621', '\u0621')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "full_text.replace",
        "line": 104,
        "code": "full_text.replace('  ', ' ')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "full_text.split",
        "line": 107,
        "code": "full_text.split('\\n')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "line.strip",
        "line": 110,
        "code": "line.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cleaned_lines.append",
        "line": 112,
        "code": "cleaned_lines.append(line)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "'\\n'.join",
        "line": 114,
        "code": "'\\n'.join(cleaned_lines)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "full_text.strip",
        "line": 116,
        "code": "full_text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tempfile.NamedTemporaryFile",
        "line": 121,
        "code": "tempfile.NamedTemporaryFile(delete=False, suffix='.pdf')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "ocrmypdf.ocr",
        "line": 126,
        "code": "ocrmypdf.ocr(\n                    pdf_path,\n                    output_path,\n   ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "PdfReader",
        "line": 136,
        "code": "PdfReader(output_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.extract_text",
        "line": 140,
        "code": "page.extract_text()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.strip",
        "line": 141,
        "code": "text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "extracted_texts.append",
        "line": 142,
        "code": "extracted_texts.append(text.strip())",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.strip",
        "line": 142,
        "code": "text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "'\\n\\n'.join",
        "line": 147,
        "code": "'\\n\\n'.join(extracted_texts)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.path.exists",
        "line": 150,
        "code": "os.path.exists(output_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "os.unlink",
        "line": 152,
        "code": "os.unlink(output_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "Exception",
        "line": 159,
        "code": "Exception(f\"Image-based text extraction failed: {str(e)}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 159,
        "code": "str(e)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "np.array",
        "line": 164,
        "code": "np.array(pil_image)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.cvtColor",
        "line": 165,
        "code": "cv2.cvtColor(img, cv2.COLOR_RGB2BGR)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.cvtColor",
        "line": 168,
        "code": "cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.bilateralFilter",
        "line": 171,
        "code": "cv2.bilateralFilter(gray, d=9, sigmaColor=75, sigmaSpace=75)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.adaptiveThreshold",
        "line": 174,
        "code": "cv2.adaptiveThreshold(\n        gray, 255, cv2.ADAPTIVE_THRESH_GAUSSIAN_C, cv2.TH",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "np.mean",
        "line": 180,
        "code": "np.mean(bin_img)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.bitwise_not",
        "line": 182,
        "code": "cv2.bitwise_not(bin_img)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.getStructuringElement",
        "line": 185,
        "code": "cv2.getStructuringElement(cv2.MORPH_RECT, (1, 1))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.morphologyEx",
        "line": 186,
        "code": "cv2.morphologyEx(bin_img, cv2.MORPH_OPEN, kernel, iterations=1)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_estimate_skew_angle",
        "line": 189,
        "code": "_estimate_skew_angle(bin_img)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "abs",
        "line": 190,
        "code": "abs(angle)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "abs",
        "line": 190,
        "code": "abs(angle)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_rotate_image",
        "line": 191,
        "code": "_rotate_image(bin_img, angle)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.cvtColor",
        "line": 194,
        "code": "cv2.cvtColor(bin_img, cv2.COLOR_GRAY2RGB)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.Canny",
        "line": 198,
        "code": "cv2.Canny(binary_img, 50, 150, apertureSize=3)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.HoughLines",
        "line": 199,
        "code": "cv2.HoughLines(edges, 1, np.pi / 180, threshold=200)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "angles.append",
        "line": 208,
        "code": "angles.append(angle)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "float",
        "line": 211,
        "code": "float(np.median(angles))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "np.median",
        "line": 211,
        "code": "np.median(angles)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.getRotationMatrix2D",
        "line": 216,
        "code": "cv2.getRotationMatrix2D(center, angle, 1.0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cv2.warpAffine",
        "line": 217,
        "code": "cv2.warpAffine(img, M, (w, h), flags=cv2.INTER_LINEAR, borderMode=cv2.BORDER_REP",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 18,
        "code": "print(\"Warning: camelot-py not installed. Table extraction will use pdfplumber o",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "text.strip",
        "line": 24,
        "code": "text.strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 40,
        "code": "max(cell.row for cell in cells)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 41,
        "code": "max(cell.col for cell in cells)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 44,
        "code": "min(c.x0 for c in cells)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "min",
        "line": 45,
        "code": "min(c.y0 for c in cells)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 46,
        "code": "max(c.x1 for c in cells)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 47,
        "code": "max(c.y1 for c in cells)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "camelot.read_pdf",
        "line": 65,
        "code": "camelot.read_pdf(pdf_path, pages='all', flavor=flavor)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 66,
        "code": "enumerate(camelot_tables)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "hasattr",
        "line": 68,
        "code": "hasattr(camelot_table, 'page')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "getattr",
        "line": 73,
        "code": "getattr(camelot_table, '_bbox', None)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "df.iterrows",
        "line": 74,
        "code": "df.iterrows()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 75,
        "code": "enumerate(row)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "pd.notna",
        "line": 76,
        "code": "pd.notna(cell_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str(cell_text).strip",
        "line": 76,
        "code": "str(cell_text).strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 76,
        "code": "str(cell_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 78,
        "code": "len(row)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 79,
        "code": "len(df)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 80,
        "code": "max(num_cols, 1)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 81,
        "code": "max(num_rows, 1)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "TableCell",
        "line": 88,
        "code": "TableCell(\n                                        str(cell_text).strip(),\n     ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str(cell_text).strip",
        "line": 89,
        "code": "str(cell_text).strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 89,
        "code": "str(cell_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "int",
        "line": 90,
        "code": "int(row_idx)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "int",
        "line": 91,
        "code": "int(col_idx)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cells.append",
        "line": 95,
        "code": "cells.append(cell)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "Table",
        "line": 97,
        "code": "Table(cells, page_num)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tables.append",
        "line": 98,
        "code": "tables.append(table)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 100,
        "code": "print(f\"Error processing Camelot table {flavor} {table_idx}: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 105,
        "code": "print(f\"Camelot {flavor} extraction failed: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 107,
        "code": "print(\"Camelot found no tables; trying pdfplumber...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_extract_tables_with_pdfplumber",
        "line": 108,
        "code": "_extract_tables_with_pdfplumber(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 111,
        "code": "print(\"Camelot not available, using pdfplumber for table extraction...\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_extract_tables_with_pdfplumber",
        "line": 112,
        "code": "_extract_tables_with_pdfplumber(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "pdfplumber.open",
        "line": 121,
        "code": "pdfplumber.open(pdf_path)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 122,
        "code": "enumerate(pdf.pages, 1)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "page.find_tables",
        "line": 124,
        "code": "page.find_tables()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 132,
        "code": "enumerate(found_tables)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "table_obj.extract",
        "line": 135,
        "code": "table_obj.extract()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "hasattr",
        "line": 151,
        "code": "hasattr(table_obj, 'rows')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 152,
        "code": "enumerate(table_obj.rows)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "hasattr",
        "line": 153,
        "code": "hasattr(row_obj, 'cells')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 154,
        "code": "enumerate(row_obj.cells)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "hasattr",
        "line": 156,
        "code": "hasattr(cell_obj, 'bbox')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "hasattr",
        "line": 161,
        "code": "hasattr(table_obj, 'cells')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "list",
        "line": 163,
        "code": "list(table_obj.cells)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 164,
        "code": "enumerate(cell_list)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "hasattr",
        "line": 167,
        "code": "hasattr(cell_obj, 'row')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "hasattr",
        "line": 167,
        "code": "hasattr(cell_obj, 'col')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "hasattr",
        "line": 170,
        "code": "hasattr(cell_obj, 'bbox')",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 175,
        "code": "print(f\"  Warning: Could not access table cell positions: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 178,
        "code": "len(table_data)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "max",
        "line": 179,
        "code": "max(len(r) for r in table_data)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 179,
        "code": "len(r)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 181,
        "code": "enumerate(table_data)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 185,
        "code": "enumerate(row)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str(cell_text).strip",
        "line": 189,
        "code": "str(cell_text).strip()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "str",
        "line": 189,
        "code": "str(cell_text)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "TableCell",
        "line": 211,
        "code": "TableCell(\n                                    cell_text,\n                      ",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cells.append",
        "line": 218,
        "code": "cells.append(cell)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "Table",
        "line": 221,
        "code": "Table(cells, page_num)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tables.append",
        "line": 222,
        "code": "tables.append(table)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 223,
        "code": "print(f\"Extracted table {table_idx+1} on page {page_num} with {len(cells)} cells",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 223,
        "code": "len(cells)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 225,
        "code": "print(f\"Error processing table {table_idx} on page {page_num}: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "traceback.print_exc",
        "line": 227,
        "code": "traceback.print_exc()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 231,
        "code": "print(f\"pdfplumber table extraction failed: {e}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "traceback.print_exc",
        "line": 233,
        "code": "traceback.print_exc()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "print",
        "line": 235,
        "code": "print(f\"Total tables extracted: {len(tables)}\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 235,
        "code": "len(tables)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "blocks_by_page[block.page_num].append",
        "line": 248,
        "code": "blocks_by_page[block.page_num].append(block)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "blocks_by_page.items",
        "line": 252,
        "code": "blocks_by_page.items()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "_detect_table_structure",
        "line": 255,
        "code": "_detect_table_structure(blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 259,
        "code": "enumerate(table_blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "enumerate",
        "line": 260,
        "code": "enumerate(row_blocks)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "TableCell",
        "line": 261,
        "code": "TableCell(\n                        block.text,\n                        row_idx,\n",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "cells.append",
        "line": 268,
        "code": "cells.append(cell)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "Table",
        "line": 271,
        "code": "Table(cells, page_num)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "tables.append",
        "line": 272,
        "code": "tables.append(table)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sorted",
        "line": 285,
        "code": "sorted(blocks, key=lambda b: b.y0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sum",
        "line": 297,
        "code": "sum(b.y0 for b in current_row)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 297,
        "code": "len(current_row)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "abs",
        "line": 298,
        "code": "abs(block.y0 - avg_y)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "current_row.append",
        "line": 299,
        "code": "current_row.append(block)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "rows.append",
        "line": 302,
        "code": "rows.append(sorted(current_row, key=lambda b: b.x0))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sorted",
        "line": 302,
        "code": "sorted(current_row, key=lambda b: b.x0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "rows.append",
        "line": 306,
        "code": "rows.append(sorted(current_row, key=lambda b: b.x0))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "sorted",
        "line": 306,
        "code": "sorted(current_row, key=lambda b: b.x0)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 309,
        "code": "len(row)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function_call",
        "function": "len",
        "line": 311,
        "code": "len(table_rows)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      }
    ],
    "function_definitions": [
      {
        "type": "function",
        "name": "read_root",
        "line": 29,
        "is_async": false,
        "params": "()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "validate_pdf",
        "line": 3,
        "is_async": true,
        "params": "(file: UploadFile)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/validators.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "save_content_to_temp",
        "line": 5,
        "is_async": false,
        "params": "(content: bytes, suffix: str = \".pdf\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "cleanup_file",
        "line": 15,
        "is_async": false,
        "params": "(path: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "temporary_file",
        "line": 26,
        "is_async": false,
        "params": "(content: bytes, suffix: str = \".pdf\")",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/utils/file_utils.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "chat_endpoint",
        "line": 8,
        "is_async": true,
        "params": "(request: ChatRequest)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "translate_pdf_endpoint",
        "line": 13,
        "is_async": true,
        "params": "(background_tasks: BackgroundTasks, file: UploadFile = File(...))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "process_pdf",
        "line": 11,
        "is_async": true,
        "params": "(file: UploadFile = File(...))",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "global_exception_handler",
        "line": 4,
        "is_async": true,
        "params": "(request: Request, exc: Exception)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/handlers/error_handler.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_ensure_searchable_pdf",
        "line": 38,
        "is_async": false,
        "params": "(pdf_path: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "translate_pdf_inplace",
        "line": 95,
        "is_async": false,
        "params": "(pdf_path: str, output_path: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "translate_pdf_with_layout",
        "line": 492,
        "is_async": false,
        "params": "(pdf_path: str, output_path: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "normalize_arabic_numerals",
        "line": 508,
        "is_async": false,
        "params": "(text: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/pdf_translation_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "__init__",
        "line": 20,
        "is_async": false,
        "params": "(self)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_ensure_collection",
        "line": 41,
        "is_async": false,
        "params": "(self)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_get_embedding",
        "line": 66,
        "is_async": false,
        "params": "(self, text: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "index_document",
        "line": 76,
        "is_async": false,
        "params": "(self, doc_id: str, text: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "chat_with_document",
        "line": 125,
        "is_async": false,
        "params": "(self, doc_id: str, query: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_chunk_text",
        "line": 185,
        "is_async": false,
        "params": "(self, text: str, chunk_size: int = 1000, overlap: int = 100)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/rag_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "__init__",
        "line": 20,
        "is_async": false,
        "params": "(self, text: str, x0: float, y0: float, x1: float, y1: float, \n                 page_num: int, is_table: bool = False)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "extract_text_blocks_with_layout",
        "line": 34,
        "is_async": false,
        "params": "(pdf_path: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_extract_with_pymupdf",
        "line": 82,
        "is_async": false,
        "params": "(pdf_path: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_group_words_into_blocks",
        "line": 168,
        "is_async": false,
        "params": "(words: List[Dict], page_num: int, page_height: float)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_create_block_from_words",
        "line": 203,
        "is_async": false,
        "params": "(words: List[Dict], page_num: int, page_height: float)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_iou",
        "line": 257,
        "is_async": false,
        "params": "(a: TextBlock, b: TextBlock)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_postprocess_blocks",
        "line": 271,
        "is_async": false,
        "params": "(blocks: List[TextBlock])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_extract_table_blocks",
        "line": 301,
        "is_async": false,
        "params": "(table: List[List], page_num: int, page_height: float)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_extract_with_ocr",
        "line": 319,
        "is_async": false,
        "params": "(pdf_path: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_create_block_from_ocr_words",
        "line": 436,
        "is_async": false,
        "params": "(words: List[Dict], page_num: int, \n                                 page_width: float, page_height: float)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "normalize_arabic_numerals",
        "line": 459,
        "is_async": false,
        "params": "(text: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/layout_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "get_translation_model",
        "line": 9,
        "is_async": false,
        "params": "()",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "translate_to_english",
        "line": 41,
        "is_async": false,
        "params": "(arabic_text: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_is_bad_translation",
        "line": 144,
        "is_async": false,
        "params": "(translated: str, original: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_translate_batch",
        "line": 186,
        "is_async": false,
        "params": "(text: str, model, tokenizer)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_translate_chunks",
        "line": 276,
        "is_async": false,
        "params": "(chunks, model, tokenizer, batch_size: int = 8)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/translate_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "extract_arabic_text",
        "line": 12,
        "is_async": false,
        "params": "(pdf_path: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_preprocess_for_ocr",
        "line": 161,
        "is_async": false,
        "params": "(pil_image)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_estimate_skew_angle",
        "line": 197,
        "is_async": false,
        "params": "(binary_img)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_rotate_image",
        "line": 213,
        "is_async": false,
        "params": "(img, angle)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/ocr_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "__init__",
        "line": 22,
        "is_async": false,
        "params": "(self, text: str, row: int, col: int, x0: float, y0: float, \n                 x1: float, y1: float, page_num: int)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "__init__",
        "line": 37,
        "is_async": false,
        "params": "(self, cells: List[TableCell], page_num: int)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "bbox",
        "line": 51,
        "is_async": false,
        "params": "(self)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "extract_tables_from_pdf",
        "line": 54,
        "is_async": false,
        "params": "(pdf_path: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_extract_tables_with_pdfplumber",
        "line": 116,
        "is_async": false,
        "params": "(pdf_path: str)",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "extract_tables_from_ocr",
        "line": 238,
        "is_async": false,
        "params": "(text_blocks: List[TextBlock])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      },
      {
        "type": "function",
        "name": "_detect_table_structure",
        "line": 276,
        "is_async": false,
        "params": "(blocks: List[TextBlock])",
        "file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/services/table_extraction_service.py",
        "confidence": "confident",
        "detection_method": "ast"
      }
    ]
  },
  "blast_radius": [
    {
      "target": "GET:/",
      "target_type": "endpoint",
      "target_file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/main.py",
      "target_line": 28,
      "direct_dependents": 0,
      "total_dependents": 0,
      "affected_files": [],
      "affected_endpoints": [],
      "severity": "low",
      "impact_description": "Changing endpoint 'GET:/' has no detected dependents."
    },
    {
      "target": "POST:/chat",
      "target_type": "endpoint",
      "target_file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/chat_controller.py",
      "target_line": 7,
      "direct_dependents": 0,
      "total_dependents": 0,
      "affected_files": [],
      "affected_endpoints": [],
      "severity": "low",
      "impact_description": "Changing endpoint 'POST:/chat' has no detected dependents."
    },
    {
      "target": "POST:/translate-pdf",
      "target_type": "endpoint",
      "target_file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/pdf_controller.py",
      "target_line": 12,
      "direct_dependents": 0,
      "total_dependents": 0,
      "affected_files": [],
      "affected_endpoints": [],
      "severity": "low",
      "impact_description": "Changing endpoint 'POST:/translate-pdf' has no detected dependents."
    },
    {
      "target": "POST:/process",
      "target_type": "endpoint",
      "target_file": "/Users/shaikmohammedjabirhussain/Desktop/SAMPLE-OCR/backend/controllers/ocr_controller.py",
      "target_line": 10,
      "direct_dependents": 0,
      "total_dependents": 0,
      "affected_files": [],
      "affected_endpoints": [],
      "severity": "low",
      "impact_description": "Changing endpoint 'POST:/process' has no detected dependents."
    }
  ],
  "high_impact_nodes": [
    {
      "target": "func:str",
      "severity": "critical",
      "total_dependents": 9,
      "impact_description": "Changing function 'func:str' has no detected dependents."
    },
    {
      "target": "func:print",
      "severity": "high",
      "total_dependents": 7,
      "impact_description": "Changing function 'func:print' has no detected dependents."
    },
    {
      "target": "func:len",
      "severity": "high",
      "total_dependents": 7,
      "impact_description": "Changing function 'func:len' has no detected dependents."
    },
    {
      "target": "func:text.strip",
      "severity": "high",
      "total_dependents": 5,
      "impact_description": "Changing function 'func:text.strip' has no detected dependents."
    },
    {
      "target": "func:enumerate",
      "severity": "high",
      "total_dependents": 5,
      "impact_description": "Changing function 'func:enumerate' has no detected dependents."
    }
  ],
  "accuracy": {},
  "metadata": {
    "files_scanned": 28
  },
  "semantic_context": {
    "health_status": "critical",
    "health_description": "Low integration: 0% of endpoints have matching API calls. Many endpoints may be unused, or API calls may be missing.",
    "connection_rate": 0.0,
    "key_insights": [
      "Endpoints found but no API calls detected - may be used by external clients or missing frontend code",
      "5 high-impact nodes detected - changes to these would affect many files"
    ],
    "field_descriptions": {
      "endpoints": "Backend API endpoints (routes) that accept HTTP requests",
      "api_calls": "Frontend/client code that makes HTTP requests to APIs",
      "connections": "Matched pairs showing which API calls connect to which endpoints",
      "blast_radius": "Impact analysis showing how many files/endpoints would be affected by changes",
      "high_impact_nodes": "Critical endpoints/files that have many dependencies"
    }
  },
  "ui_inspection": {
    "snapshots": [],
    "issues": [],
    "summary": {
      "total_files": 0,
      "total_elements": 0,
      "total_issues": 0,
      "issues_by_type": {}
    },
    "enabled": true
  },
  "visualization": {
    "html_path": ".rohkun/reports/1/graph.html",
    "html_file": "graph.html",
    "folder": "1"
  }
}